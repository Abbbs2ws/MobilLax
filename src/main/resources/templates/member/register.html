<!--
  register.html

  ✅ 파일 목적: 신규 사용자 회원가입을 위한 입력 폼 페이지
  ✅ 사용 위치: GET /register (폼 조회), POST /register (회원가입 처리)
  ✅ 주요 기능:
    - 사용자 정보 입력 (이름, 이메일, 비밀번호)
    - 오류 및 성공 메시지 출력
    - Spring Security용 CSRF 토큰 포함
    - 로그인 화면 링크 제공

  작성자: 김영빈
  마지막 수정일: 2025-05-12
-->

<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MobilLax - 회원가입</title>
  <link href="/css/login.css" type="text/css" rel="stylesheet">
</head>
<body>

<header>
  <h1><a href="/home">MobilLax</a></h1> <!-- 홈 페이지로 이동 -->
</header>

<div class="form-wrapper">
  <div class="form-box">
    <h2>회원가입</h2>

    <!-- ✅ 오류 메시지 출력 -->
    <div th:if="${error != null}">
      <p style="color: red;" th:text="${error}"></p>
    </div>

    <!-- ✅ 성공 메시지 출력 (JS alert) -->
    <script th:if="${successMessage != null}" type="text/javascript">
      alert([[${successMessage}]]);
    </script>

    <!-- ✅ 회원가입 폼 -->
    <form action="/register" method="POST">
      <!-- CSRF 토큰 필드 (Spring Security 연동 시 필수) -->
      <th:block th:if="${_csrf != null}">
        <input type="hidden" name="_csrf" th:value="${_csrf.token}" />
      </th:block>

      <!-- 이름 입력 -->
      <input type="text" name="name" placeholder="이름" required class="form-input">

      <!-- 이메일 입력 -->
      <input type="email" name="email" placeholder="이메일" required class="form-input">

      <!-- 비밀번호 입력 -->
      <input type="password" name="password" placeholder="비밀번호" required class="form-input">

      <!-- 회원가입 버튼 -->
      <button type="submit" class="form-btn">회원가입</button>
    </form>

    <!-- 로그인 페이지 이동 링크 -->
    <div class="link">이미 계정이 있으신가요? <a href="/login">로그인</a></div>
  </div>
</div>

</body>
</html>
